<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Document</title>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
 <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="to-do-body">
  <div class="constant-text-and-add-point">
   <p class="constant-text">Todo</p>
   <div class="task-adder"> <p class="">+</p></div>
  
  </div>

  <div class="screen-splitter">

  <div class="category-holder-outer">
    <div class="createCategory">
      Create category <div class="create-category-btn">+</div>
    </div>
  <div class="category-holder">

   <div class="categorySection">

    
    </div>
    </div>

  <div class="task-hider">
    <label for=""><input type="checkbox" name="hide" id="taskHider" class="task-hider" onclick="hideDoneTask()">Hide Done Task</label>
   </div>

   <div class="image">

   </div>


  </div>


   <div class="task-board" id="taskBoard">
     <h3 id="user_name"></h3>

  </div>


   <div class="modal">
    
    <div class="input-board-outter">

    <div class="input-board-inner">

    <form action="" id="taskForm">
     
     <div class="action-btns-holder">

      <button class="action-btns cancel-btn" type="submit">
        Cancel
      </button>
      <button class="action-btns add-btn" type="submit" id="addBtn">
        Add  task
      </button>

    </div>


    <div class="input-box-holder">
      <label for="title">
        Title <br> <br>
        <input type="text" class="title-box" name="box-for-title" id="task_title">
      </label>
        <br> <br>
       <label for="task-description-pad">
        Description <br> <br>
        <input type="text" class="task-description-box" name="box-for-task-description" id="content">
      </label>
    </div>
      
    <div class="category-area">
    
    <label for="tag"> Tag <select name="tag" id="tag_id" class="categorySectionTwo">
      <option value="" selected = true disabled> select category</option>

    </select></label>
    </div>

    </form>

    </div>
    </div>
   </div>


   <div class="categoryModal">
    <div class="input-board-outter">

    <div class="input-board-inner">
    <form action="" id="categoryCreatingForm">
     
     <div class="action-btns-holder">

      <button class="action-btns cancel-category-btn" type="submit">
        Cancel
      </button>
      <button class="action-btns add-category-btn" type="submit">
        Add  title
      </button>

    </div>


    <div class="input-box-holder">
      <label for="title">
        Category name <br> <br>
        <input type="text" class="category-name-box" name="title" id="categoryTitle">
      </label>
      <br>
      <br>
       <label for="title">
        Category color <br>
        <input type="color" class="category-name-box" name="category-title" id="categoryColor">
      </label>
    </div>

    </form>
    </div>
    </div>
   </div>  
 </div>



 <div class="update-modal">
    <div class="input-board-outter">

    <div class="input-board-inner">



    <form action="" id="newTaskForm">
     
     <div class="action-btns-holder">

      <button class="action-btns modal-update-cancel-btn" type="submit">
        Cancel
      </button>
      <button class="action-btns update-btn" type="submit">
        Update  task
      </button>

    </div>


    <div class="input-box-holder">
      <label for="title">
       New Title <br> <br>
        <input type="text" class="title-box" name="box-for-title" id="newTitleBox">
      </label>
        <br> <br>
       <label for="task-description-pad">
       New Description <br> <br>
        <input type="text" class="task-description-box" name="box-for-task-description" id="newtaskDescription">
      </label>
    </div>
      
    <div class="category-area">
    
     <select name="category" id="selectedCategory" class="categorySectionTwo">
      <option value="" selected = true disabled> select category</option>

    </select>
    </div>

    </form>

    </div>
    </div>
   </div>



   <div class="updateCategoryModal">
    <div class="input-board-outter">

    <div class="input-board-inner">
    <form action="" id="newCategoryForm">
     
     <div class="action-btns-holder">

      <button class="action-btns category-update-cancel-btn" type="submit">
        Cancel
      </button>
      <button class="action-btns update-category-btn" type="submit">
        update  title
      </button>

    </div>


    <div class="input-box-holder">
      <label for="title">
        New Category name <br> <br>
        <input type="text" class="category-name-box" name="category-title" id="newCategoryTitle">
      </label>
    </div>

    </form>
    </div>
    </div>
   </div>  
 </div>


 <script src="index.js"></script>
</body>
</html>




<!-- $(document).on("click", ".category-edit-btn", function (event) {
    event.preventDefault();

    let categoryNameSection = $(this).closest(".category-name-and-action");

    let categoryName = categoryNameSection.find("#categoryName").text();

    $("#newCategoryTitle").val(categoryName);

    $(".updateCategoryModal").show();

    $(".updateCategoryModal").data("categoryNameSection", categoryNameSection);
  });
  //>>>New Category handling section<<<

  const newCategoryForm = $("#newCategoryForm");

  $("#newCategoryForm").submit(function (event) {
    event.preventDefault();

    let newCategoryTitle = $("#newCategoryTitle").val();

    let categoryNameSection = $(".updateCategoryModal").data(
      "categoryNameSection"
    );

    categoryNameSection.find("#categoryName").text(newCategoryTitle);

    $(".updateCategoryModal").hide();

    taskForm.trigger("reset");
  });

  $(".category-update-cancel-btn").click(function () {
    $(".updateCategoryModal").hide();

    newCategoryForm.trigger("reset");
  });

  $(document).on("click", ".category-delete-btn", function () {
    $(this).closest(".category-display-board").remove();
  });
  //>>>Task adder section<<<

  $(".task-adder").click(function () {
    $(".modal").show();
  });
  //>>><<<

  //task form and task holder section

  $(".add-btn").click(function (event) {
    event.preventDefault();

    localStorage.getItem("userId");
    // const taskBoard = $("#taskBoard");

    const titleBox = $("#title").val();

    const taskDescription = $("#content").val();

    let userDetails = {
      title: titleBox,
      content: taskDescription,
    };

    $.ajax({
      url: "http://todo.reworkstaging.name.ng/v1/tasks",
      method: "POST",
      contentType: "application/json",
      data: JSON.stringify(userDetails),
      success: function (feedback) {
        console.log("Task:", feedback);
        alert("Task uploaded");
      },
      error: function (error) {
        console.log("Login task:", error);
        alert("Task Upload Error.");
      },
    });

    $("form")[0].reset();

    // const taskPinner = $(`<div class="task-display-board"></div>`);

    // taskPinner.html(`<div class="task-holder" id="taskHolder">

    //  <div class="task-title-and-option-bar">

    //   <p class="task-title" id="taskTitle">${titleBox}</p>

    //   <div><button class="edit-btn action-btn" id="editBtn"><img src="./images/icons8-edit-32.png" alt="" class="images"></button><button class="delete-btn action-btn" id="deleteBtn"><img src="./images/icons8-delete-24 (1).png" alt="" class="images"></button></div>

    //  </div>

    //  <div class="task-details" id="taskDetails">${taskDescription}</div>

    //   <div class="category-color-and-task-marker">

    //     <div class="task-marker-section">

    //       <label for=""><input type="checkbox" name="done" id="taskMarker"
    //       class="task-marker">Done</label>

    //     </div>

    //   </div>

    // </div>`);

    // taskBoard.append(taskPinner);

    $(".modal").hide();

    taskForm.trigger("reset");
  });

  //>>>delete task section<<<

  $(document).on("click", ".delete-btn", function () {
    $(this).closest(".task-holder").remove();
  });
  //>>><<<

  //Edit task section

  $(document).on("click", ".edit-btn", function () {
    let taskHolder = $(this).closest(".task-holder");

    let title = taskHolder.find("#taskTitle").text();

    let description = taskHolder.find("#taskDetails").text();

    $("#newTitleBox").val(title);

    $("#newtaskDescription").val(description);

    $(".update-modal").show();

    $(".update-modal").data("taskHolder", taskHolder);
  });

  //>>>Task edit section<<<

  const newTaskForm = $("#newTaskForm");

  $("#newTaskForm").submit(function (event) {
    event.preventDefault();

    let newTitle = $("#newTitleBox").val();

    let newDescription = $("#newtaskDescription").val();

    let taskHolder = $(".update-modal").data("taskHolder");

    taskHolder.find("#taskTitle").text(newTitle);

    taskHolder.find("#taskDetails").text(newDescription);

    $(".update-modal").hide();

    taskForm.trigger("reset");
  });

  $(".modal-update-cancel-btn").click(function (event) {
    event.preventDefault();

    $(".update-modal").hide();

    newTaskForm.trigger("reset");
  });

  //cancel button section

  $(".cancel-btn").click(function () {
    $(".modal").hide();
  });

  //task maker section

  $(document).on("click", ".task-marker", function () {
    let taskHolder = $(this).closest(".task-holder");

    if ($(this).prop("checked")) {
      taskHolder
        .find(".task-title, .task-details")
        .css("text-decoration", "line-through");
    } else {
      taskHolder
        .find(".task-title, .task-details")
        .css("text-decoration", "none");
    }
  });

  //  task hider section
  function hideDoneTask() {
    const taskHider = $("#taskHider");
    const taskMarker = $("#taskMarker");
    const taskHolder = $("#taskHolder");

    if (taskMarker.prop("checked") && taskHider.prop("checked")) {
      taskHolder.css("display", "none");
    } else {
      taskHolder.show();
    }
  }

  $("#taskHider").click(function () {
    hideDoneTask();
  }); -->